---
import Layout from '../../layouts/Layout.astro';
---

<Layout>
  <preview-content data-uri={Astro.params.slug} data-token={Astro.url.searchParams.get('token')}>
    Loading preview...
  </preview-content>
</Layout>

<script>
  class PreviewContent extends HTMLElement {
    constructor() {
      super();
      this.loadPreview();
    }

    async loadPreview() {
      const uri = this.dataset.uri;
      const token = this.dataset.token;
      
      // Fetch preview data and update content
      // This could use the same GraphQL client with preview options
    }
  }

  customElements.define('preview-content', PreviewContent);
</script> 